---
# Get values from Environment Variables
# -----------------------------------------------------------------------------
sccm_instanceid: "{{ lookup('env', 'SCCM_INSTANCEID') }}"
sccm_domain: "{{ lookup('env', 'SCCM_DOMAIN') }}"
env_db2_namespace: "{{ lookup('env', 'DB2_NAMESPACE') }}"

sccm_licenseType: "{{ lookup('env', ' SCCM_LICENSETYPE') | default('non-prod', true) }}" # prod or no-prod
sccm_system_passphrase: "{{ lookup('env', ' SCCM_SYSTEM_PASSPHRASE') | default('passwOrd', true) }}"

sccm_dbvendor: "{{ lookup('env', ' SCCM_DBVENDOR') }}"
sccm_dbhost: "{{ lookup('env', ' SCCM_DBHOST') }}"
sccm_dbport: "{{ lookup('env', ' SCCM_DBPORT') }}"
sccm_dbname: "{{ lookup('env', ' SCCM_DBNAME') }}"
sccm_dbuser: "{{ lookup('env', ' SCCM_DBUSER') }}"
sccm_dbpassword: "{{ lookup('env', ' SCCM_DBPASSWORD') }}"
sccm_oracleUseServiceName: "{{ lookup('env', ' SCCM_ORACLESERVICENAME', default('false')) }}"

sccm_adminmailaddr: "{{ lookup('env', ' SCCM_ADMIN_MAILADDR') | default('admin@company.com', true) }}"
sccm_adminsmtphost: "{{ lookup('env', ' SCCM_ADMIN_SMTPHOST') | default('smtp.company.com', true) }}"

sccm_jmsuser: "{{ lookup('env', ' SCCM_JMS_USERNAME') }}"
sccm_jmspassword: "{{ lookup('env', ' SCCM_JMS_PASSWORD') }}"
sccm_jmskeystorepassword: "{{ lookup('env', ' SCCM_JMS_KEYSTORE_PASSWORD') }}"
sccm_jmstruststorepassword: "{{ lookup('env', ' SCCM_JMS_TRUSTSTORE_PASSWORD') }}"

sccm_libertykeystorepassword: "{{ lookup('env', ' SCCM_LIBERTY_KEYSTORE_PASSWORD') | default('changeit', true) }}"

# Entitlement
# -----------------------------------------------------------------------------
entitled_registry: "cp.icr.io"
entitled_registry_user: cp
entitled_registry_key: "{{ lookup('env', 'ENTITLED_REGISTRY_KEY') }}"

# Defaults for B2Bi instances.
# -----------------------------------------------------------------------------
my_workdir: /tmp

sccm_namespace: "sterling-b2bi-{{ sccm_instanceid }}-app"
sccm_db2_namespace: "sterling-b2bi-{{ sccm_instanceid }}-db2"
sccm_version: "6.2.0.0"
sccm_registry_secret: si-ibm-registry
sccm_system_passphrase_secret: si-system-passphrase-secret
sccm_db_secret: si-db-secret
sccm_jms_secret: si-jms-secret
sccm_liberty_secret: si-liberty-secret
sccm_helm_release: s0
sccm_helm_timeout: "120m0s"
sccm_asccm_host: "asi.{{ sccm_instanceid }}.{{ sccm_domain }}"
sccm_ac_host: "ac.{{ sccm_instanceid }}.{{ sccm_domain }}"
sccm_api_host: "api.{{ sccm_instanceid }}.{{ sccm_domain }}"

db2_namespace: ""
db2_secret: mydb2-secret
db2_id: mydb2

# Sterling B2Bi Compatibility Matrix
# -----------------------------------------------------------------------------
compatibility_matrix:
  6.3.1.0_iFix01_2024-02-01:
    helm_version: "3.1.1"
  6.3.1.0_2023-12-15:
    helm_version: "3.1.0"



# Storage Class Matrix - definition by Cloud Provider
# -----------------------------------------------------------------------------
storage_class_matrix:
  ibmcloud:
    rwx: "ibmc-file-gold-gid"   # ReadWriteMany
    rwx_nogid: "ibmc-file-gold" # ReadWriteMany no GID
    rwo: "ibmc-block-gold"      # ReadWriteOnce
    rom: "ibmc-file-gold-gid"       # ReadOnlyMany  #FIXME need to define this value
    rwop: ""                    # ReadWriteOncePod
  redhat:
    rwx: "ocs-storagecluster-cephfs"
    rwx_nogid: "ocs-storagecluster-cephfs"
    rwo: "ocs-storagecluster-ceph-rbd"
    rom: "ocs-storagecluster-cephfs"
    rwop: ""
  aws:
    rwx: "efs"
    rwx_nogid: "efs"
    rwo: " gp2"
    rom: ""
    rwop: ""
  azure:
    rwx: "azurefiles-premium"
    rwx_nogid: "azurefiles-premium"
    rwo: " managed-premium"
    rom: ""
    rwop: ""
